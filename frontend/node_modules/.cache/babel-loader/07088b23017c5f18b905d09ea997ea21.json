{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{createProduct,deleteProduct,listProducts}from\"../actions/productActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{PRODUCT_CREATE_RESET,PRODUCT_DELETE_RESET}from\"../constants/productConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ProductListScreen(props){var productList=useSelector(function(state){return state.productList;});/*Importing from rext Redux*/ /*We also created productList() object in the HomeScreen.js*/ /*Using it*/var loading=productList.loading,error=productList.error,products=productList.products;/*Importing productCreate from Store.js and thus importing reducers*/var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;/*Importing from store.js for deletion*/var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:PRODUCT_CREATE_RESET});/*Because a blank page needs \r\n           to be shown after successful creation of product*/props.history.push(\"/product/\".concat(createdProduct._id,\"/edit\"));}if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());/*Imported from Actions/productActions*/},[createdProduct,dispatch,props.history,successCreate,successDelete]);var deleteHandler=function deleteHandler(product){if(window.confirm('Are you sure to delete the product?')){dispatch(deleteProduct(product._id));/*deleteProduct is a fx and need to be implemented in the productAction.js*/}};var createHandler=function createHandler(){dispatch(createProduct());/*Thi is a new action, it is to be \r\n        implemented in the actions folder named as createProduct()*/};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\" Product List\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"primary\",onClick:createHandler,children:\"Create New Product\"})]}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(LoadingBox,{}),errorCreate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));},children:\"EDIT\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);},children:\"DELETE\"})]})]},product._id);})})]})]});}","map":{"version":3,"sources":["C:/Users/USER/Desktop/Programming/Saree/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","createProduct","deleteProduct","listProducts","LoadingBox","MessageBox","PRODUCT_CREATE_RESET","PRODUCT_DELETE_RESET","ProductListScreen","props","productList","state","loading","error","products","productCreate","loadingCreate","errorCreate","successCreate","success","createdProduct","product","productDelete","loadingDelete","errorDelete","successDelete","dispatch","type","history","push","_id","deleteHandler","window","confirm","createHandler","map","name","price","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { createProduct, deleteProduct, listProducts } from \"../actions/productActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { PRODUCT_CREATE_RESET, PRODUCT_DELETE_RESET } from \"../constants/productConstants\";\r\n\r\nexport default function ProductListScreen(props) {\r\n    const productList = useSelector((state) => state.productList); /*Importing from rext Redux*/\r\n    /*We also created productList() object in the HomeScreen.js*/\r\n    /*Using it*/\r\n    const { loading, error, products} = productList;\r\n\r\n\r\n\r\n    /*Importing productCreate from Store.js and thus importing reducers*/\r\n    const productCreate = useSelector(state => state.productCreate);\r\n    const { loading: loadingCreate, \r\n        error: errorCreate, \r\n        success: successCreate, \r\n        product: createdProduct} = productCreate;\r\n\r\n    \r\n        /*Importing from store.js for deletion*/\r\n    const productDelete = useSelector(state => state.productDelete); \r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete} = productDelete;\r\n\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n       if(successCreate) {\r\n           dispatch({type: PRODUCT_CREATE_RESET}); /*Because a blank page needs \r\n           to be shown after successful creation of product*/\r\n           props.history.push(`/product/${createdProduct._id}/edit`);\r\n       }\r\n       if(successDelete) {\r\n           dispatch({ type: PRODUCT_DELETE_RESET});\r\n       }\r\n        dispatch(listProducts()); /*Imported from Actions/productActions*/\r\n    }, [ createdProduct, dispatch, props.history, successCreate, successDelete]);\r\n \r\n\r\n\r\n    \r\n    \r\n    const deleteHandler = (product) => {\r\n        if(window.confirm('Are you sure to delete the product?')) {\r\n            dispatch(deleteProduct(product._id)); /*deleteProduct is a fx and need to be implemented in the productAction.js*/\r\n        }\r\n    };\r\n\r\n    const createHandler = () => {\r\n        \r\n            dispatch(createProduct()); /*Thi is a new action, it is to be \r\n        implemented in the actions folder named as createProduct()*/  \r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n            <h1> Product List</h1>\r\n            <button type=\"button\" className=\"primary\" onClick={createHandler}>\r\n                Create New Product\r\n            </button>\r\n            </div>\r\n            {loadingDelete && <LoadingBox></LoadingBox> }\r\n            {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n\r\n            {loadingCreate && <LoadingBox></LoadingBox> }\r\n            {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\r\n            {\r\n                loading ? (<LoadingBox></LoadingBox>)\r\n                : error ? (<MessageBox variant = \"danger\">{error}</MessageBox>\r\n                ) : (\r\n                    \r\n               \r\n                <table className=\"table\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>ID</th>\r\n                            <th>NAME</th>\r\n                            <th>PRICE</th>\r\n                            <th>CATEGORY</th>\r\n                            <th>BRAND</th>\r\n                            <th>ACTIONS</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {products.map((product) => (\r\n\r\n                       \r\n                            <tr key = {product._id}>\r\n                                <td>{product._id}</td>\r\n                                <td>{product.name}</td>\r\n                                <td>{product.price}</td>\r\n                                <td>{product.category}</td>\r\n                                <td>{product.brand}</td>\r\n                                <td>\r\n                                    <button \r\n                                    type=\"button\"\r\n                                    className = \"small\"\r\n                                    onClick = {() =>\r\n                                    props.history.push(`/product/${product._id}/edit`)}>\r\n                                        EDIT\r\n                                    </button>\r\n                                \r\n                                    <button \r\n                                    type=\"button\"\r\n                                    className = \"small\"\r\n                                    onClick = {() => deleteHandler(product)}\r\n                                    >\r\n                                        DELETE\r\n                                    </button>\r\n\r\n                                </td>\r\n                            </tr>\r\n                        )\r\n                        )\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n             )}\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}
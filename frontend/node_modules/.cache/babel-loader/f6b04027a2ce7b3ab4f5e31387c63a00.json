{"ast":null,"code":"import React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{deleteUser,listUsers}from\"../actions/userActions\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{USER_DETAILS_RESET}from\"../constants/userConstants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserListScreen(props){var userList=useSelector(function(state){return state.userList;});/*From store.js*/var loading=userList.loading,users=userList.users,error=userList.error;var userDelete=useSelector(function(state){return state.userDelete;});/*From store.js*/var loadingDelete=userDelete.loading,errorDelete=userDelete.error,successDelete=userDelete.success;var dispatch=useDispatch();useEffect(function(){dispatch(listUsers());/*Need to create listusers( ) fx in userActions,js*/dispatch({type:USER_DETAILS_RESET});/*getting details of another users after editing a user details*/},[dispatch,successDelete]);/*Defining deleteHandler() fx for deleting users*/var deleteHandler=function deleteHandler(user){if(window.confirm('Are you sure?')){dispatch(deleteUser(user._id));/*deleteUser() fx created here and body is \r\n            being written in actions folder >> userActions.js*/}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"List of Users\"}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBox,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"error\",children:errorDelete}),successDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"success\",children:\"User Deleted Successfully\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"WHETHER SELLER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"WHETHER ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ACTIONS\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.isSeller?'YES':'NO'}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?'YES':'NO'}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/user/\".concat(user._id,\"/edit\"));},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(user);},children:\"Delete\"})]})]},user._id);})})]})]});}","map":{"version":3,"sources":["C:/Users/USER/Desktop/Programming/Saree/frontend/src/screens/UserListScreen.js"],"names":["React","useEffect","useDispatch","useSelector","deleteUser","listUsers","LoadingBox","MessageBox","USER_DETAILS_RESET","UserListScreen","props","userList","state","loading","users","error","userDelete","loadingDelete","errorDelete","successDelete","success","dispatch","type","deleteHandler","user","window","confirm","_id","map","name","email","isSeller","isAdmin","history","push"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { deleteUser, listUsers } from \"../actions/userActions\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport { USER_DETAILS_RESET } from \"../constants/userConstants\";\r\n\r\nexport default function UserListScreen(props) {\r\n    const userList = useSelector(state => state.userList); /*From store.js*/\r\n    const {loading, users, error} = userList;\r\n\r\n    const userDelete = useSelector(state => state.userDelete);/*From store.js*/\r\n    const {\r\n        loading: loadingDelete, \r\n        error: errorDelete, \r\n        success: successDelete} = userDelete;\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(listUsers()); /*Need to create listusers( ) fx in userActions,js*/\r\n        dispatch({ type: USER_DETAILS_RESET}); /*getting details of another users after editing a user details*/\r\n    }, [dispatch, successDelete]);\r\n\r\n\r\n/*Defining deleteHandler() fx for deleting users*/\r\n    const deleteHandler = (user) => {\r\n        if(window.confirm('Are you sure?')) {\r\n            dispatch(deleteUser(user._id)); /*deleteUser() fx created here and body is \r\n            being written in actions folder >> userActions.js*/\r\n\r\n\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>List of Users</h1>\r\n            {loadingDelete && <LoadingBox></LoadingBox>}\r\n            {errorDelete && <MessageBox variant = \"error\">{errorDelete}</MessageBox>}\r\n            {successDelete && <MessageBox variant = \"success\">User Deleted Successfully</MessageBox>}\r\n            { loading ? (<LoadingBox></LoadingBox>)\r\n            :\r\n            error ? (<MessageBox variant = \"danger\">{error}</MessageBox>)\r\n            :\r\n            (\r\n                <table className=\"table\">\r\n                    <thead>\r\n                            <tr>\r\n                                <th>ID</th>\r\n                                <th>NAME</th>\r\n                                <th>EMAIL</th>\r\n                                <th>WHETHER SELLER</th>\r\n                                <th>WHETHER ADMIN</th>\r\n                                <th>ACTIONS</th>\r\n                            </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                        users.map((user) => (                 \r\n                            <tr key={user._id}>\r\n                                <td>{user._id}</td>\r\n                                <td>{user.name}</td>\r\n                                <td>{user.email}</td>\r\n                                <td>{user.isSeller? 'YES': 'NO'}</td>\r\n                                <td>{user.isAdmin? 'YES': 'NO'}</td>\r\n                                <td>\r\n                                    <button  type=\"button\"\r\n                                        className=\"small\"\r\n                                        onClick={() => props.history.push(`/user/${user._id}/edit`)}\r\n                                        >Edit</button>\r\n                                    <button \r\n                                        type=\"button\"\r\n                                        className=\"small\"\r\n                                        onClick={() => \r\n                                            deleteHandler(user)\r\n                                        }>Delete</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))\r\n                        }\r\n                    </tbody>\r\n                    \r\n                </table>\r\n            )\r\n            }\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}
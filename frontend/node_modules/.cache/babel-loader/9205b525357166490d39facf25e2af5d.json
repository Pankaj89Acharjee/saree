{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\Programming\\\\Saree\\\\frontend\\\\src\\\\screens\\\\ProfileScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { detailsUser, updateUserProfile } from '../actions/userActions';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ProfileScreen(props) {\n  _s();\n\n  /*For Updating the fields*/\n  const [name, setName] = useState(' ');\n  const [email, setEmail] = useState(' ');\n  const [password, setPassword] = useState(' ');\n  const [confirmPassword, setConfirmPassword] = useState(' ');\n  /*Getting 'signin' details from Redux store for passing parameter to the detailsUser() fx\r\n  for getting details of the user*/\n\n  const userSignin = useSelector(state => state.userSignin);\n  /*From userSigin, we get userInfo*/\n\n  const {\n    userInfo\n  } = userSignin;\n  /*Getting userDetails from redux store i.e., defined in App.js and \r\n  in App.js it redirects to Reducers*/\n\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    loading,\n    error,\n    user\n  } = userDetails;\n  /*Getting data from fx in userUpdateProfile() in App.js and the\r\n  fx is mined in the redux store i.e., in Reducers. We need to\r\n  define that fx consisting in the reducer and below is its definition*/\n\n  const userUpdateProfile = useSelector(state => state.userUpdateProfile);\n  /*From redux, lets get the following*/\n\n  const {\n    success: successUpdate,\n    error: errorUpdate,\n    loading: loadingUpdate\n  } = userUpdateProfile;\n  /*Importing dispatch from React Redux*/\n\n  const dispatch = useDispatch();\n  /*Getting user information from the redux*/\n\n  useEffect(() => {\n    if (!user) {\n      dispatch({\n        type: USER_UPDATE_PROFILE_RESET\n      });\n      /*useEffect contains two parameters, first is the function that\r\n      runs and the second one is the dependency list in [].*/\n\n      dispatch(detailsUser(userInfo._id));\n      /*detailsUser is an action in userAction file*/\n    } else {\n      /*Filling name and email from the backend*/\n      setName(user.name);\n      setEmail(user.email);\n    }\n  }, [dispatch, userInfo._id, user]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      alert('Password didnot match');\n    } else {\n      dispatch(updateUserProfile({\n        /*A new action created and define it in userActions file\r\n        as well as create a constant in the constants folder*/\n        userId: user._id,\n        name,\n        email,\n        password\n      }));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"User Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 30\n      }, this) : error ? /*#__PURE__*/_jsxDEV(MessageBox, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 30\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [loadingUpdate && /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 36\n        }, this), errorUpdate && /*#__PURE__*/_jsxDEV(MessageBox, {\n          variant: \"danger\",\n          children: errorUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 34\n        }, this), successUpdate && /*#__PURE__*/_jsxDEV(MessageBox, {\n          variant: \"success\",\n          children: \"Data Updated Successfully\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"name\",\n            type: \"text\",\n            placeholder: \"Enter your name\",\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"email\",\n            type: \"email\",\n            placeholder: \"Enter your e-mail\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"password\",\n            type: \"password\",\n            placeholder: \"Enter your password\",\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirmPassword\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"confirmPassword\",\n            type: \"password\",\n            placeholder: \"Re-enter your password\",\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), user.isSeller && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Seller Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"sellerName\",\n              children: \"Seller Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"sellerName\",\n              type: \"text\",\n              placeholder: \"Seller Name\",\n              value: sellerName,\n              onChange: e => setSellerName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"sellerLogo\",\n              children: \"Seller Logo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"sellerLogo\",\n              type: \"text\",\n              placeholder: \"Enter Seller Logo\",\n              value: sellerLogo,\n              onChange: e => setSellerLogo(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"sellerDescription\",\n              children: \"Seller Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"sellerDescription\",\n              type: \"text\",\n              placeholder: \"Seller Description\",\n              value: sellerDescription,\n              onChange: e => setSellerDescription(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"primary\",\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProfileScreen, \"zylfgYJIdCNt236v0sS2U43o/GU=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = ProfileScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileScreen\");","map":{"version":3,"sources":["C:/Users/USER/Desktop/Programming/Saree/frontend/src/screens/ProfileScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","detailsUser","updateUserProfile","LoadingBox","MessageBox","USER_UPDATE_PROFILE_RESET","ProfileScreen","props","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","userSignin","state","userInfo","userDetails","loading","error","user","userUpdateProfile","success","successUpdate","errorUpdate","loadingUpdate","dispatch","type","_id","submitHandler","e","preventDefault","alert","userId","target","value","isSeller","sellerName","setSellerName","sellerLogo","setSellerLogo","sellerDescription","setSellerDescription"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsUser, updateUserProfile } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { USER_UPDATE_PROFILE_RESET } from '../constants/userConstants';\r\n\r\nexport default function ProfileScreen(props) {\r\n    \r\n    /*For Updating the fields*/\r\n    const [name, setName] = useState(' ');\r\n    const [email, setEmail] = useState(' ');\r\n    const [password, setPassword] = useState(' ');\r\n    const [confirmPassword, setConfirmPassword] = useState(' ');\r\n\r\n\r\n     \r\n    /*Getting 'signin' details from Redux store for passing parameter to the detailsUser() fx\r\n    for getting details of the user*/\r\n    const userSignin = useSelector((state) => state.userSignin);\r\n    /*From userSigin, we get userInfo*/\r\n    const {userInfo} = userSignin;\r\n   \r\n\r\n    /*Getting userDetails from redux store i.e., defined in App.js and \r\n    in App.js it redirects to Reducers*/\r\n    const userDetails = useSelector((state) => state.userDetails);\r\n    const { loading, error, user } = userDetails;\r\n\r\n    /*Getting data from fx in userUpdateProfile() in App.js and the\r\n    fx is mined in the redux store i.e., in Reducers. We need to\r\n    define that fx consisting in the reducer and below is its definition*/\r\n    const userUpdateProfile = useSelector((state) => state.userUpdateProfile);\r\n    /*From redux, lets get the following*/\r\n    const { success: successUpdate, error: errorUpdate, loading: loadingUpdate } = userUpdateProfile;\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    /*Importing dispatch from React Redux*/\r\n    const dispatch = useDispatch();\r\n\r\n    /*Getting user information from the redux*/\r\n    useEffect(() => {\r\n        if(!user) {\r\n            dispatch({ type: USER_UPDATE_PROFILE_RESET});\r\n             /*useEffect contains two parameters, first is the function that\r\n        runs and the second one is the dependency list in [].*/\r\n\r\n            dispatch(detailsUser(userInfo._id)); /*detailsUser is an action in userAction file*/\r\n        } else {\r\n            /*Filling name and email from the backend*/\r\n            setName(user.name);\r\n            setEmail(user.email);\r\n        }\r\n    }, [dispatch, userInfo._id, user]);\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        if (password !== confirmPassword)\r\n        {\r\n            alert('Password didnot match');\r\n        } else {\r\n            dispatch(updateUserProfile({ /*A new action created and define it in userActions file\r\n                as well as create a constant in the constants folder*/\r\n                userId: user._id, name, email, password}));\r\n        }\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <form className=\"form\" onSubmit = {submitHandler}>\r\n                <div>\r\n                    <h1>User Profile</h1>\r\n                </div>\r\n                { loading ? (<LoadingBox></LoadingBox>\r\n                ) : error ? (<MessageBox variant = \"danger\">{error}</MessageBox>\r\n                ) : (\r\n\r\n         \r\n                <>\r\n\r\n                { loadingUpdate && <LoadingBox></LoadingBox>}\r\n                {errorUpdate && (<MessageBox variant = \"danger\">{errorUpdate}</MessageBox>\r\n                )}\r\n                {successUpdate && <MessageBox variant = \"success\">Data Updated Successfully</MessageBox>}\r\n                    <div>\r\n                        <label htmlFor=\"name\">Name</label>\r\n                        <input id = \"name\"\r\n                               type = \"text\"\r\n                               placeholder = \"Enter your name\"\r\n                               value={name}\r\n                               onChange = {(e) => setName(e.target.value)}>\r\n                        </input>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"email\">Email</label>\r\n                        <input id = \"email\"\r\n                               type = \"email\"\r\n                               placeholder = \"Enter your e-mail\"\r\n                               value={email}\r\n                               onChange = {(e) => setEmail(e.target.value)}>\r\n                        </input>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input id = \"password\"\r\n                               type = \"password\"\r\n                               placeholder = \"Enter your password\"\r\n                               onChange = {(e) => setPassword(e.target.value)}>\r\n                        </input>    \r\n                    </div>\r\n\r\n                    <div>\r\n                        <label htmlFor=\"confirmPassword\">Confirm Password</label>\r\n                        <input id = \"confirmPassword\"\r\n                               type = \"password\"\r\n                               placeholder = \"Re-enter your password\"\r\n                               onChange = {(e) => setConfirmPassword(e.target.value)}>\r\n                               \r\n                        </input>\r\n                    </div>\r\n\r\n                    {\r\n                        user.isSeller && (\r\n                            <>\r\n                                <h2>Seller Data</h2>\r\n                                <div /*For Seller Name*/>\r\n                                    <label htmlFor='sellerName'>Seller Name</label>\r\n                                    <input id=\"sellerName\" type=\"text\" placeholder='Seller Name'\r\n                                    value = {sellerName} onChange={(e) => setSellerName(e.target.value)}>\r\n                                    </input>\r\n                                </div>\r\n\r\n\r\n                                <div /*For LOGO*/>\r\n                                    <label htmlFor='sellerLogo'>Seller Logo</label>\r\n                                    <input id=\"sellerLogo\" type=\"text\" placeholder='Enter Seller Logo'\r\n                                    value = {sellerLogo} onChange={(e) => setSellerLogo(e.target.value)}>\r\n                                    </input>\r\n                                </div>\r\n\r\n\r\n                                <div /*For Description*/>\r\n                                    <label htmlFor='sellerDescription'>Seller Description</label>\r\n                                    <input id=\"sellerDescription\" type=\"text\" placeholder='Seller Description'\r\n                                    value = {sellerDescription} onChange={(e) => setSellerDescription(e.target.value)}>\r\n                                    </input>\r\n                                </div>\r\n                            </>\r\n                        )\r\n                    }\r\n\r\n                    <div>\r\n                        <label/>\r\n                        <button className=\"primary\" type=\"submit\">Update</button>\r\n                        \r\n                    </div>\r\n                </>\r\n                ) \r\n            }\r\n\r\n            </form>\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}
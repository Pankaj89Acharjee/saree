{"ast":null,"code":"import _toConsumableArray from\"C:/Users/USER/Desktop/Programming/Saree/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useEffect}from'react';import'react-responsive-carousel/lib/styles/carousel.min.css';import{Carousel}from'react-responsive-carousel';import Product from'../components/Product';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import{useDispatch,useSelector}from'react-redux';import{listProducts}from'../actions/productActions';import{listTopSellers}from'../actions/userActions';import{Link,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function HomeScreen(){var _useParams=useParams(),_useParams$pageNumber=_useParams.pageNumber,pageNumber=_useParams$pageNumber===void 0?1:_useParams$pageNumber;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products,page=productList.page,pages=productList.pages;/*Importing from store.js*/var userTopSellersList=useSelector(function(state){return state.userTopSellersList;});var loadingSellers=userTopSellersList.loading,errorSellers=userTopSellersList.error,sellers=userTopSellersList.users;useEffect(function(){dispatch(listProducts({pageNumber:pageNumber}));/*Means return all products and donot filter any products*/ /*Now we need to show top sellers*/dispatch(listTopSellers());/*Defining it in userActions.js*/},[dispatch,pageNumber]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"Best Sellers\"})}),loadingSellers?/*#__PURE__*/_jsx(LoadingBox,{}):errorSellers?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorSellers}):/*#__PURE__*/_jsxs(_Fragment,{children:[sellers.length===0&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:\"No Seller Found\"}),/*#__PURE__*/_jsx(Carousel,{showArrows:true,autoPlay:true,showThumbs:false,children:sellers.map(function(seller){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/seller/\".concat(seller._id),children:[/*#__PURE__*/_jsx(\"img\",{src:seller.seller.logo,alt:seller.seller.name}),/*#__PURE__*/_jsx(\"p\",{className:\"legend\",children:seller.seller.name})]})},seller._id);})})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"headerH2\",children:\"Featured Products\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[products.length===0&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:\"No Products Found\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row1 center\",children:products.map(function(product){return/*#__PURE__*/_jsx(Product,{product:product},product._id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"row1 pagination\"/*For showing page numbers in the homepage*/,children:_toConsumableArray(Array(pages).keys()).map(function(x){return/*#__PURE__*/_jsx(Link,{to:\"/pageNumber/\".concat(x+1),children:x+1},x+1/*For displaying page number*/);})})]})]});}","map":{"version":3,"sources":["C:/Users/USER/Desktop/Programming/Saree/frontend/src/screens/HomeScreen.js"],"names":["React","useEffect","Carousel","Product","LoadingBox","MessageBox","useDispatch","useSelector","listProducts","listTopSellers","Link","useParams","HomeScreen","pageNumber","dispatch","productList","state","loading","error","products","page","pages","userTopSellersList","loadingSellers","errorSellers","sellers","users","length","map","seller","_id","logo","name","product","Array","keys","x"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport 'react-responsive-carousel/lib/styles/carousel.min.css';\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport Product from '../components/Product';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport { listTopSellers } from '../actions/userActions';\r\nimport { Link, useParams } from 'react-router-dom';\r\n\r\nexport default function HomeScreen() {\r\n  const { pageNumber = 1} = useParams();\r\n  const dispatch = useDispatch();\r\n  const productList = useSelector((state) => state.productList);\r\n  const { loading, error, products, page, pages } = productList;\r\n\r\n/*Importing from store.js*/\r\n  const userTopSellersList = useSelector((state) => state.userTopSellersList);\r\n  const { loading: loadingSellers, error: errorSellers, users: sellers } = userTopSellersList;\r\n\r\n  useEffect(() => {\r\n    dispatch(listProducts({ pageNumber })); /*Means return all products and donot filter any products*/\r\n    /*Now we need to show top sellers*/\r\n    dispatch(listTopSellers()); /*Defining it in userActions.js*/\r\n  }, [dispatch, pageNumber]);\r\n  return (\r\n    <div>\r\n      <div>\r\n      <h3>Best Sellers</h3>\r\n      </div>\r\n      \r\n        {loadingSellers ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : errorSellers ? (\r\n        <MessageBox variant=\"danger\">{errorSellers}</MessageBox>\r\n      ) : ( \r\n        <>\r\n          {sellers.length === 0 && <MessageBox variant=\"danger\">No Seller Found</MessageBox>}\r\n          <Carousel showArrows autoPlay showThumbs={false}>\r\n            {sellers.map((seller) => (\r\n              <div key={seller._id}>\r\n                <Link to = {`/seller/${seller._id}`}>\r\n                  <img src = {seller.seller.logo} alt = {seller.seller.name}></img>\r\n                  <p className='legend'>{seller.seller.name}</p>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </Carousel>\r\n        </>\r\n           \r\n  \r\n      )}\r\n\r\n      <h2 className='headerH2'>Featured Products</h2>\r\n      {loading ? (\r\n        <LoadingBox></LoadingBox>\r\n      ) : error ? (\r\n        <MessageBox variant=\"danger\">{error}</MessageBox>\r\n      ) : (\r\n        <>\r\n          {products.length === 0 && <MessageBox variant=\"danger\">No Products Found</MessageBox>}\r\n\r\n          <div className=\"row1 center\">\r\n          {products.map((product) => (\r\n            <Product key={product._id} product={product}></Product>\r\n          ))}\r\n          </div>\r\n\r\n          <div className=\"row1 pagination\" /*For showing page numbers in the homepage*/>\r\n                {\r\n                    [...Array(pages).keys()].map((x) => (\r\n\r\n    \r\n                        <Link key={x + 1 /*For displaying page number*/} \r\n                        to = {`/pageNumber/${x + 1}`}>\r\n                        {x + 1}</Link>\r\n                    ))\r\n                } \r\n                </div>\r\n        </>\r\n        \r\n        \r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}